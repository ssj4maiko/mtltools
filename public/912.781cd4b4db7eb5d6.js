"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[912],{912:($,m,l)=>{l.r(m),l.d(m,{CategoryModule:()=>M});var s=l(6895),d=l(4793),t=l(4650),p=l(6845);function g(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"a",9),t.NdJ("click",function(){return t.CHM(i),t.oxw().rebuildCache()}),t._uU(3,"Update Dictionary Cache"),t.qZA()(),t.TgZ(4,"div",8)(5,"a",10),t.NdJ("click",function(){return t.CHM(i),t.oxw().LINK(null,"add")}),t._uU(6,"Add Category"),t.qZA()()()}}function f(n,o){1&n&&t.GkF(0)}const h=function(){return[]};function C(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"tr")(1,"td",11),t.NdJ("click",function(){const a=t.CHM(i).$implicit;return t.oxw().LINK(a.id)}),t._uU(2),t.qZA(),t.TgZ(3,"td",11),t.NdJ("click",function(){const a=t.CHM(i).$implicit;return t.oxw().LINK(a.id)}),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",12),t.NdJ("click",function(){const a=t.CHM(i).$implicit;return t.oxw().LINK(a.id,"edit")}),t._UZ(7,"i",13),t.qZA(),t._uU(8," / "),t.TgZ(9,"a",14),t.NdJ("click",function(){const a=t.CHM(i).$implicit;return t.oxw().delete(a.id)}),t._UZ(10,"i",15),t.qZA()()()}if(2&n){const i=o.$implicit;t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Oqu(i.count_entries[0]?i.count_entries[0].count:"-"),t.xp6(5),t.Q6J("routerLink",t.DdM(3,h))}}let y=(()=>{class n{constructor(i,e,r){this.router=i,this.route=e,this.api=r,this.categories=[]}ngOnInit(){this.loadList()}loadList(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,Promise.all([this.api.Dictionary.get({id:this.idDictionary}),this.api.Category.getAll({idDictionary:this.idDictionary})]).then(i=>{this.dictionary=i[0],this.categories=Object.values(i[1])})}rebuildCache(){this.api.Dictionary.rebuildCache(this.idDictionary).then(i=>{alert(i)},i=>{console.log(i)})}LINK(i,e){const r=[];this.idNovel&&(r.push("novel"),r.push(this.idNovel)),r.push("dictionary"),r.push(this.idDictionary),e&&r.push(e),i&&r.push(i),this.router.navigate(r)}delete(i){return confirm("Are you sure?")&&this.api.Category.delete({idDictionary:this.idDictionary,id:i}).then(e=>{this.loadList()},e=>{console.log(e)}),!0}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(p.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:15,vars:2,consts:[["actionButtons",""],[4,"ngTemplateOutlet"],[1,"table","is-striped","is-hoverable","is-fullwidth"],[2,"width","200px"],[2,"width","150px"],[1,"clickable-table"],[4,"ngFor","ngForOf"],[1,"columns","actionButtons"],[1,"column"],[1,"button","is-primary",3,"click"],[1,"button","is-info",3,"click"],[3,"click"],[1,"icon","has-text-success",3,"click"],[1,"fas","fa-info-circle"],[1,"icon","has-text-danger",3,"routerLink","click"],[1,"fas","fa-ban"]],template:function(i,e){if(1&i&&(t.YNc(0,g,7,0,"ng-template",null,0,t.W1O),t.TgZ(2,"div"),t.YNc(3,f,1,0,"ng-container",1),t.TgZ(4,"table",2)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",3),t._uU(10,"# of Entries"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Actions"),t.qZA()()(),t.TgZ(13,"tbody",5),t.YNc(14,C,11,4,"tr",6),t.qZA()()()),2&i){const r=t.MAs(1);t.xp6(3),t.Q6J("ngTemplateOutlet",r),t.xp6(11),t.Q6J("ngForOf",e.categories)}},directives:[s.tP,s.sg,d.yS],styles:[".columns[_ngcontent-%COMP%]{margin:5px}.actionButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),n})();var x=l(2414),Z=l(4868),c=l(4006);let _=(()=>{class n{constructor(i){this.formBuilder=i,this.indexes=[],this.formGroup=i.group({id:[null],idDictionary:[null],name:[null]})}addForm(i,e,r,a){this.indexes.push(i),this.form.push(new Z.Wi(i,e,r,a))}getForm(i){this.form=[],i&&this.addForm("id","","hidden"),this.addForm("idDictionary","","hidden"),this.addForm("name","Name","text")}setValues(i){this.formGroup.setValue({id:i.id,idDictionary:i.idDictionary,name:i.name})}getValues(){const i={dictionaryCategory:null};return i.dictionaryCategory=new x.c(this.formGroup.value),delete i.dictionaryCategory.entries,i}}return n.\u0275fac=function(i){return new(i||n)(t.LFG(c.qu))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v(n,o){if(1&n&&(t.ynx(0,null,12),t._UZ(2,"input",13),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(2),t.s9C("formControlName",i.name)}}function T(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label",15),t._UZ(3,"input",16),t._uU(4),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.s9C("formControlName",i.name),t.xp6(1),t.hij(" ",i.label," ")}}function b(n,o){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const i=o.$implicit;t.s9C("value",i.value),t.xp6(1),t.Oqu(i.label)}}function A(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",5)(5,"select",17),t.YNc(6,b,2,2,"option",18),t.qZA()(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.Oqu(i.label),t.xp6(2),t.s9C("formControlName",i.name),t.xp6(1),t.Q6J("ngForOf",i.options)}}function N(n,o){if(1&n&&(t.TgZ(0,"p")(1,"label"),t._UZ(2,"input",21),t._uU(3),t.qZA()()),2&n){const i=o.$implicit;t.xp6(2),t.Q6J("formControl",i.control),t.xp6(1),t.hij(" ",i.label," ")}}function F(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",5),t.YNc(5,N,4,2,"p",20),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.AsE("",i.label," - ",i.name,""),t.xp6(2),t.Q6J("ngForOf",i.options)}}function k(n,o){if(1&n&&(t.ynx(0,null,22),t.TgZ(2,"label",23),t._uU(3),t.qZA(),t.TgZ(4,"div",5),t._UZ(5,"input",24),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(2),t.s9C("for",i.name),t.xp6(1),t.Oqu(i.label),t.xp6(2),t.s9C("type",i.type),t.s9C("id",i.name),t.s9C("formControlName",i.name)}}function J(n,o){if(1&n&&(t.TgZ(0,"div",8),t.ynx(1,9),t.YNc(2,v,3,1,"ng-container",10),t.YNc(3,T,5,2,"ng-container",10),t.YNc(4,A,7,3,"ng-container",10),t.YNc(5,F,6,3,"ng-container",10),t.YNc(6,k,6,5,"ng-container",11),t.BQk(),t.qZA()),2&n){const i=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",i.type),t.xp6(1),t.Q6J("ngSwitchCase","hidden"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","multiselect")}}function O(n,o){if(1&n&&(t.ynx(0,null,12),t._UZ(2,"input",13),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(2),t.s9C("formControlName",i.name)}}function w(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label",15),t._UZ(3,"input",16),t._uU(4),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.s9C("formControlName",i.name),t.xp6(1),t.hij(" ",i.label," ")}}function U(n,o){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const i=o.$implicit;t.s9C("value",i.value),t.xp6(1),t.Oqu(i.label)}}function Q(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",5)(5,"select",17),t.YNc(6,U,2,2,"option",18),t.qZA()(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.Oqu(i.label),t.xp6(2),t.s9C("formControlName",i.name),t.xp6(1),t.Q6J("ngForOf",i.options)}}function Y(n,o){if(1&n&&(t.TgZ(0,"p")(1,"label"),t._UZ(2,"input",21),t._uU(3),t.qZA()()),2&n){const i=o.$implicit;t.xp6(2),t.Q6J("formControl",i.control),t.xp6(1),t.hij(" ",i.label," ")}}function D(n,o){if(1&n&&(t.ynx(0,null,14),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",5),t.YNc(5,Y,4,2,"p",20),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.AsE("",i.label," - ",i.name,""),t.xp6(2),t.Q6J("ngForOf",i.options)}}function S(n,o){if(1&n&&(t.ynx(0,null,22),t.TgZ(2,"label",23),t._uU(3),t.qZA(),t.TgZ(4,"div",5),t._UZ(5,"input",24),t.qZA(),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(2),t.s9C("for",i.name),t.xp6(1),t.Oqu(i.label),t.xp6(2),t.s9C("type",i.type),t.s9C("id",i.name),t.s9C("formControlName",i.name)}}function E(n,o){if(1&n&&(t.TgZ(0,"div",8),t.ynx(1,9),t.YNc(2,O,3,1,"ng-container",10),t.YNc(3,w,5,2,"ng-container",10),t.YNc(4,Q,7,3,"ng-container",10),t.YNc(5,D,6,3,"ng-container",10),t.YNc(6,S,6,5,"ng-container",11),t.BQk(),t.qZA()),2&n){const i=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",i.type),t.xp6(1),t.Q6J("ngSwitchCase","hidden"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","multiselect")}}const L=[{path:"",component:y,data:{title:"List Categories"}},{path:"add",component:(()=>{class n extends _{constructor(i,e,r,a){super(a),this.router=i,this.route=e,this.api=r,this.formBuilder=a}ngOnInit(){this.idDictionary=this.route.snapshot.params.idDictionary,this.formTitle="Add new Category",this.getForm(!0)}submitForm(i){const e=this.getValues();this.api.Category.add({idDictionary:this.idDictionary,category:e.dictionaryCategory}).then(r=>{this.router.navigate(["/dictionary",this.idDictionary,r.id])},r=>{console.log(r)})}goBack(){this.router.navigate(["/dictionary",this.idDictionary])}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(p.s),t.Y36(c.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-add"]],features:[t.qOj],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],["type","checkbox",3,"formControl"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return e.submitForm(e.formGroup.value)}),t.YNc(4,J,7,5,"div",3),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6),t.qZA(),t.TgZ(8,"div",5)(9,"input",7),t.NdJ("click",function(){return e.goBack()}),t.qZA()()()()()),2&i&&(t.xp6(2),t.Oqu(e.formTitle),t.xp6(1),t.Q6J("formGroup",e.formGroup),t.xp6(1),t.Q6J("ngForOf",e.form))},directives:[c._Y,c.JL,c.sg,s.sg,s.RF,s.n9,c.Fj,c.JJ,c.u,c.Wl,c.EJ,c.YN,c.Kr,c.oH,s.ED],styles:[".form-content[_ngcontent-%COMP%]{padding:30px;border-radius:10px}"]}),n})(),data:{title:"Add Categories",breadcrumb:"Add Category"}},{path:"edit/:idCategory",component:(()=>{class n extends _{constructor(i,e,r,a){super(a),this.router=i,this.route=e,this.api=r,this.formBuilder=a}ngOnInit(){this.idDictionary=this.route.snapshot.params.idDictionary,this.idCategory=this.route.snapshot.params.idCategory,this.api.Category.get({idDictionary:this.idDictionary,id:this.idCategory}).then(i=>{this.category=i,this.setValues(i),this.getForm(!1)})}submitForm(i){const e=this.getValues();this.api.Category.update({idDictionary:this.idDictionary,id:this.idCategory,category:e.dictionaryCategory}).then(r=>{this.goBack()},r=>{console.log(r)})}goBack(){this.router.navigate(["/dictionary",this.idDictionary])}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(p.s),t.Y36(c.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-edit"]],features:[t.qOj],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],["type","checkbox",3,"formControl"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return e.submitForm(e.formGroup.value)}),t.YNc(4,E,7,5,"div",3),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6),t.qZA(),t.TgZ(8,"div",5)(9,"input",7),t.NdJ("click",function(){return e.goBack()}),t.qZA()()()()()),2&i&&(t.xp6(2),t.Oqu(e.formTitle),t.xp6(1),t.Q6J("formGroup",e.formGroup),t.xp6(1),t.Q6J("ngForOf",e.form))},directives:[c._Y,c.JL,c.sg,s.sg,s.RF,s.n9,c.Fj,c.JJ,c.u,c.Wl,c.EJ,c.YN,c.Kr,c.oH,s.ED],styles:[".form-content[_ngcontent-%COMP%]{padding:30px;border-radius:10px}"]}),n})(),data:{title:"Edit Category",breadcrumb:"Edit Category"}},{path:":idCategory",loadChildren:()=>l.e(405).then(l.bind(l,7405)).then(n=>n.EntryModule),data:{title:"View Category",breadcrumb:"Entries"}},{path:"**",redirectTo:""}];let B=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(L)],d.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,B,c.u5,c.UX]]}),n})()}}]);