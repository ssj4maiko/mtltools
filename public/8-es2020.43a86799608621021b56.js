(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{JW32:function(t,e,i){"use strict";i.r(e),i.d(e,"ChapterModule",(function(){return j}));var n=i("ofXK"),o=i("tyNb"),r=i("yTNM"),a=i("AytR"),c=i("fXoL");function s(t,e){1&t&&(c.Ob(0,"div",5),c.Ob(1,"a",8),c.oc(2,"Import Chapter"),c.Nb(),c.Nb())}function l(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",5),c.Ob(1,"a",9),c.Vb("click",(function(){return c.ic(t),c.Xb(2).updateChapters()})),c.oc(2,"Update Chapters"),c.Nb(),c.Nb()}}function d(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",5),c.Ob(1,"a",9),c.Vb("click",(function(){return c.ic(t),c.Xb(2).downloadChapter()})),c.oc(2,"Add Next Chapter"),c.Nb(),c.Nb()}}const h=function(t){return["/novel/dictionary",t]};function g(t,e){if(1&t&&(c.Ob(0,"div",4),c.Ob(1,"div",5),c.Ob(2,"a",6),c.oc(3,"Dictionary"),c.Nb(),c.Nb(),c.mc(4,s,3,0,"div",7),c.mc(5,l,3,0,"div",7),c.mc(6,d,3,0,"div",7),c.Nb()),2&t){const t=c.Xb();c.yb(2),c.ac("routerLink",c.dc(4,h,t.idNovel)),c.yb(2),c.ac("ngIf",t.novel&&!t.novel.flagSyosetu),c.yb(1),c.ac("ngIf",t.novel&&t.novel.flagSyosetu),c.yb(1),c.ac("ngIf",t.novel&&t.novel.flagSyosetu)}}function b(t,e){1&t&&c.Kb(0)}function p(t,e){if(1&t){const t=c.Pb();c.Ob(0,"a",15),c.Vb("click",(function(){c.ic(t);const i=e.$implicit,n=c.Xb().$implicit;return c.Xb().openGT(n,i)})),c.oc(1),c.Nb()}if(2&t){const t=e.$implicit;c.yb(1),c.pc(t.language)}}function u(t,e){1&t&&(c.Ob(0,"a",16),c.Ob(1,"span",17),c.Jb(2,"i",18),c.Nb(),c.Nb())}function y(t,e){1&t&&(c.Ob(0,"a",19),c.Ob(1,"span",17),c.Jb(2,"i",20),c.Nb(),c.Nb())}const O=function(t,e){return["/novel/",t,e]};function f(t,e){if(1&t&&(c.Mb(0),c.Ob(1,"tr",10),c.Ob(2,"td"),c.oc(3),c.Nb(),c.Ob(4,"td",11),c.oc(5),c.Nb(),c.Ob(6,"td",11),c.oc(7),c.Nb(),c.Ob(8,"td",11),c.oc(9),c.Nb(),c.Ob(10,"td"),c.mc(11,p,2,1,"a",12),c.Nb(),c.mc(12,u,3,0,"ng-template",null,13,c.nc),c.mc(14,y,3,0,"ng-template",null,14,c.nc),c.Nb(),c.Lb()),2&t){const t=e.$implicit,i=c.Xb();c.yb(1),c.bc("title",i.novel.title),c.yb(2),c.pc(t.no),c.yb(1),c.ac("routerLink",c.ec(9,O,t.idNovel,t.no)),c.yb(1),c.pc(t.title),c.yb(1),c.ac("routerLink",c.ec(12,O,t.idNovel,t.no)),c.yb(1),c.pc(t.dateOriginalPost),c.yb(1),c.ac("routerLink",c.ec(15,O,t.idNovel,t.no)),c.yb(1),c.pc(t.dateOriginalRevision),c.yb(2),c.ac("ngForOf",i.dictionaries)}}let C=(()=>{class t{constructor(t,e,i){this.router=t,this.route=e,this.api=i,this.chapters=[],this.dictionaries=[]}ngOnInit(){this.idNovel=this.route.snapshot.params.idNovel,this.novel=this.api.Novel(this.idNovel),this.dictionaries=Object.values(this.api.Dictionaries(this.idNovel)),this.chapters=Object.values(this.api.Chapters(this.idNovel)),this.novel?this.chapterList():this.api.getNovel(this.idNovel).subscribe(t=>{this.novel=this.api.Novel(this.idNovel),this.chapterList()},t=>{console.log(t)})}chapterList(t){this.chapters.length?this.dictionaryList():this.api.getChapters(this.idNovel,t).subscribe(t=>{let e=this.api.Chapters(this.idNovel);e&&(this.chapters=Object.values(e)),this.dictionaryList()},t=>{console.log(t)})}dictionaryList(){this.api.getDictionaries(this.idNovel).subscribe(t=>{let e=this.api.Dictionaries(this.idNovel);e&&(this.dictionaries=Object.values(e)),console.log(this.dictionaries)},t=>{console.log(t)})}openGT(t,e){let i=`${a.a.backendServer}/static/${this.idNovel}/${e.id}/${t.no}/1`;i="https://translate.google.com/translate?sl=auto&tl=en&u="+i,window.open(i)}downloadChapter(){alert("Needs to be fixed, use Update Chapters for now")}updateChapters(){alert("Press it only one time, it is working, but there will be no visible response until it's finished.\nConsider Pressing F12 and switching to the Network tab, so you can see when it's finished"),this.api.autoUpdateChapters(this.idNovel).subscribe(t=>{console.log(t),this.chapterList(!0)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(o.c),c.Ib(o.a),c.Ib(r.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-chapter-list"]],decls:21,vars:2,consts:[["actionButtons",""],[4,"ngTemplateOutlet"],[1,"table","is-striped","is-hoverable","is-fullwidth"],[4,"ngFor","ngForOf"],[1,"columns","actionButtons"],[1,"column"],[1,"button","is-primary",3,"routerLink"],["class","column",4,"ngIf"],["routerLink","['/novel/',idNovel,'add']",1,"button","is-info"],[1,"button","is-info",3,"click"],[3,"title"],[3,"routerLink"],[3,"click",4,"ngFor","ngForOf"],["success",""],["danger",""],[3,"click"],[1,"button","is-success"],[1,"icon","is-small"],[1,"fas","fa-check"],[1,"button","is-danger"],[1,"fas","fa-times"]],template:function(t,e){if(1&t&&(c.mc(0,g,7,6,"ng-template",null,0,c.nc),c.mc(2,b,1,0,"ng-container",1),c.Ob(3,"div"),c.Ob(4,"table",2),c.Ob(5,"thead"),c.Ob(6,"tr"),c.Ob(7,"th"),c.oc(8,"Number"),c.Nb(),c.Ob(9,"th"),c.oc(10,"Title"),c.Nb(),c.Ob(11,"th"),c.oc(12,"Date Created"),c.Nb(),c.Ob(13,"th"),c.oc(14,"Date Updated"),c.Nb(),c.Ob(15,"th"),c.oc(16,"Dictionary"),c.Jb(17,"br"),c.oc(18,"Google Translator"),c.Nb(),c.Nb(),c.Nb(),c.Ob(19,"tbody"),c.mc(20,f,16,18,"ng-container",3),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.hc(1);c.yb(2),c.ac("ngTemplateOutlet",t),c.yb(18),c.ac("ngForOf",e.chapters)}},directives:[n.n,n.i,o.f,n.j,o.d],styles:[".actionButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),t})();var v=i("jhN1"),N=i("3Pt+");function m(t,e){if(1&t&&(c.Ob(0,"option",15),c.oc(1),c.Nb()),2&t){const t=e.$implicit;c.bc("value",t.id),c.yb(1),c.pc(t.language)}}function M(t,e){if(1&t){const t=c.Pb();c.Ob(0,"li",9),c.Ob(1,"select",10),c.Vb("ngModelChange",(function(e){return c.ic(t),c.Xb().dictionarySelector=e}))("change",(function(e){return c.ic(t),c.Xb().dictionarySelected(e.target.value)})),c.Ob(2,"option",11),c.oc(3,"Choose a language"),c.Nb(),c.mc(4,m,2,2,"option",12),c.Nb(),c.Ob(5,"input",13),c.Vb("click",(function(){return c.ic(t),c.Xb().refreshTranslation()})),c.Nb(),c.Ob(6,"input",14),c.Vb("click",(function(){return c.ic(t),c.Xb().refreshOriginal()})),c.Nb(),c.Nb()}if(2&t){const t=c.Xb();c.yb(1),c.ac("ngModel",t.dictionarySelector),c.yb(3),c.ac("ngForOf",t.dictionaries)}}const P=function(t,e){return{changed:t,new:e}};function _(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",21),c.Ob(1,"input",22),c.Vb("ngModelChange",(function(i){return c.ic(t),e.$implicit.entryOriginal=i}))("ngModelChange",(function(){c.ic(t);const i=e.$implicit;return c.Xb(2).changeEntry(i)})),c.Nb(),c.Ob(2,"input",23),c.Vb("ngModelChange",(function(i){return c.ic(t),e.$implicit.entryTranslation=i}))("ngModelChange",(function(){c.ic(t);const i=e.$implicit;return c.Xb(2).changeEntry(i)})),c.Nb(),c.Ob(3,"input",24),c.Vb("ngModelChange",(function(i){return c.ic(t),e.$implicit.description=i}))("ngModelChange",(function(){c.ic(t);const i=e.$implicit;return c.Xb(2).changeEntry(i)})),c.Nb(),c.Ob(4,"input",25),c.Vb("ngModelChange",(function(i){return c.ic(t),e.$implicit.idCategory=i})),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.ac("ngClass",c.ec(5,P,1==t.update,0==t.id)),c.yb(1),c.ac("ngModel",t.entryOriginal),c.yb(1),c.ac("ngModel",t.entryTranslation),c.yb(1),c.ac("ngModel",t.description),c.yb(1),c.ac("ngModel",t.idCategory)}}const w=function(t){return{hidden:t}};function T(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"li",3),c.Ob(2,"h1",16),c.Vb("click",(function(){c.ic(t);const i=e.index;return c.Xb().selectOpenCategory=i})),c.Ob(3,"input",17),c.Vb("ngModelChange",(function(i){return c.ic(t),e.$implicit.name=i}))("ngModelChange",(function(){c.ic(t);const i=e.$implicit;return c.Xb().changeCategory(i)})),c.Nb(),c.Nb(),c.Nb(),c.Ob(4,"li",18),c.mc(5,_,5,8,"div",19),c.Ob(6,"input",20),c.Vb("click",(function(){c.ic(t);const i=e.$implicit;return c.Xb().addEntry(i.entries,i.id)})),c.Nb(),c.Nb(),c.Lb()}if(2&t){const t=e.$implicit,i=e.index,n=c.Xb();c.yb(2),c.ac("ngClass",c.ec(4,P,1==t.update,0==t.id)),c.yb(1),c.ac("ngModel",t.name),c.yb(1),c.ac("ngClass",c.dc(7,w,n.selectOpenCategory!=i)),c.yb(1),c.ac("ngForOf",t.entries)}}let k=(()=>{class t{constructor(t,e){this.api=t,this.route=e,this.Sidebar2Chapter=new c.n,this.dictionaries=[],this.categories=[],this.entriesOriginalValues={},this.categoriesOriginalValues={},this.dictionarySelector=""}ngOnInit(){this.idNovel=this.route.snapshot.params.idNovel,this.dictionaries=Object.values(this.api.Dictionaries(this.idNovel)),0==this.dictionaries.length?this.api.getDictionaries(this.idNovel).subscribe(t=>{let e=this.api.Dictionaries(this.idNovel);e&&(this.dictionaries=Object.values(e)),this.dictionarySelector=this.dictionaries[0].id,this.dictionarySelected(this.dictionarySelector)},t=>{console.log(t)}):(this.dictionarySelector=this.dictionaries[0].id,this.dictionarySelected(this.dictionarySelector))}ngOnDestroy(){delete this.dictionaries,delete this.categories,delete this.entriesOriginalValues,delete this.categoriesOriginalValues,delete this.idCategory,delete this.idDictionary,delete this.idNovel,delete this.dictionarySelector,console.log("destroy Sidebar")}dictionarySelected(t){this.idDictionary=t,this.getCache()}getCache(){0==this.categories.length?this.api.dictionaryCache(this.idNovel,this.idDictionary).subscribe(t=>{this.categories=[],this.categoriesOriginalValues={},this.entriesOriginalValues={},this.categories=Object.values(this.api.Categories(this.idDictionary)),this.categories.forEach(t=>{this.categoriesOriginalValues[t.id]={name:t.name},t.entries=Object.values(this.api.Entries(t.id)),t.entries.forEach(e=>{this.entriesOriginalValues[t.id]||(this.entriesOriginalValues[t.id]={}),this.entriesOriginalValues[t.id][e.id]={entryOriginal:""+e.entryOriginal,entryTranslation:""+e.entryTranslation,description:""+e.description,idCategory:""+e.idCategory}})}),this.refreshTranslation()},t=>{console.log(t)}):this.refreshTranslation()}changeEntry(t){t.id>0&&(t.update=t.entryOriginal!=this.entriesOriginalValues[t.idCategory][t.id].entryOriginal||t.entryTranslation!=this.entriesOriginalValues[t.idCategory][t.id].entryTranslation||!!t.description&&t.description!=this.entriesOriginalValues[t.idCategory][t.id].description||t.idCategory!=this.entriesOriginalValues[t.idCategory][t.id].idCategory)}changeCategory(t){t.id>0&&(t.update=t.name!=this.categoriesOriginalValues[t.id].name,console.log(t.update))}addEntry(t,e){t.push({id:0,entryOriginal:"",entryTranslation:"",description:"",update:!1,idCategory:e})}addCategory(){this.categories.push({id:0,idDictionary:this.idDictionary,name:"",update:!1,entries:[]})}refreshTranslation(){this.Sidebar2Chapter.emit(this.categories)}refreshOriginal(){this.Sidebar2Chapter.emit([])}saveModifications(){this.api.saveFullDictionary(this.idNovel,this.idDictionary,this.categories).subscribe(t=>{t.changes&&(this.dictionaries=Object.values(this.api.Dictionaries(this.idNovel)),this.categories=[],this.getCache()),console.log(t)},t=>{console.log(t)}),console.log(this.categories)}openOutside(t){let e=`${a.a.backendServer}/static/${this.idNovel}/${this.idDictionary}/${this.route.snapshot.params.noChapter}/`;t&&(e="https://translate.google.com/translate?sl=auto&tl=en&u="+e),window.open(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(r.a),c.Ib(o.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-chapter-sidebar"]],outputs:{Sidebar2Chapter:"Sidebar2Chapter"},decls:10,vars:2,consts:[[1,"dictionaryList"],["class","dictionary-selector",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"categories"],[1,"dictionary-buttons"],["type","button","value","+ Add new Category",1,"button","is-small","is-primary",3,"click"],["type","button","value","Save Modifications",1,"button","is-small","is-danger",3,"click"],["type","button","value","Google Translate",1,"button","is-small","is-info",3,"click"],["type","button","value","Open Keyword Translated Raw",1,"button","is-small","is-warning",3,"click"],[1,"dictionary-selector"],[1,"select",3,"ngModel","ngModelChange","change"],["value","","selected","selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","value","Refresh Translation",1,"button","is-small","is-info",3,"click"],["type","button","value","Refresh to Original",1,"button","is-small","is-warning",3,"click"],[3,"value"],[3,"ngClass","click"],["type","text","placeholder","Category Name",1,"category-name",3,"ngModel","ngModelChange"],[1,"entries",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],["type","button","value","+ Add new Entry",3,"click"],[3,"ngClass"],["type","text","placeholder","Original",1,"entry-original",3,"ngModel","ngModelChange"],["type","text","placeholder","Translation",1,"entry-translation",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"entry-description",3,"ngModel","ngModelChange"],["type","hidden",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(c.Ob(0,"ul",0),c.mc(1,M,7,2,"li",1),c.mc(2,T,7,9,"ng-container",2),c.Jb(3,"li",3),c.Ob(4,"li",4),c.Ob(5,"input",5),c.Vb("click",(function(){return e.addCategory()})),c.Nb(),c.Ob(6,"input",6),c.Vb("click",(function(){return e.saveModifications()})),c.Nb(),c.Nb(),c.Ob(7,"li",4),c.Ob(8,"input",7),c.Vb("click",(function(){return e.openOutside(!0)})),c.Nb(),c.Ob(9,"input",8),c.Vb("click",(function(){return e.openOutside(!1)})),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.yb(1),c.ac("ngIf",e.dictionaries.length>0),c.yb(1),c.ac("ngForOf",e.categories))},directives:[n.j,n.i,N.o,N.j,N.l,N.m,N.p,n.h,N.b],styles:[".dictionaryList[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.dictionaryList[_ngcontent-%COMP%]   .dictionary-selector[_ngcontent-%COMP%]{align-self:flex-start;width:100%}.dictionaryList[_ngcontent-%COMP%]   .dictionary-selector[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:33.3%;height:100%}.dictionaryList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{align-self:flex-end}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{color:#fff;width:100%}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{height:30px;width:100%;background:linear-gradient(180deg,#e570e7 0,#c85ec7 47%,#a849a3)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1.changed[_ngcontent-%COMP%]{background:linear-gradient(180deg,#009013 0,#00b469 47%,#107020)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1.new[_ngcontent-%COMP%]{background:linear-gradient(180deg,#393cff 0,#1f00cc 47%,#1400cc)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{background-color:transparent;border:0 solid #fff;color:#fff;margin-left:15px}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]{padding:left 10;overflow-y:auto}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(odd){background-color:grey}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div.changed[_ngcontent-%COMP%]{background-color:green}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div.new[_ngcontent-%COMP%]{background-color:#00f}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:0 solid #fff;color:#fff}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-original[_ngcontent-%COMP%], .dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-translation[_ngcontent-%COMP%]{width:30%}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-description[_ngcontent-%COMP%]{width:40%}.dictionaryList[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}.dictionaryList[_ngcontent-%COMP%]   .dictionary-buttons[_ngcontent-%COMP%]{width:100%}.dictionaryList[_ngcontent-%COMP%]   .dictionary-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:50%;height:100%}"]}),t})();const L=function(t,e){return["/novel/",t,e]};function x(t,e){if(1&t&&(c.Ob(0,"a",8),c.oc(1," Previous "),c.Nb()),2&t){const t=c.Xb(2);c.ac("routerLink",c.ec(1,L,t.idNovel,t.chapterPrevious.no))}}function V(t,e){if(1&t&&(c.Ob(0,"a",8),c.oc(1," Next "),c.Nb()),2&t){const t=c.Xb(2);c.ac("routerLink",c.ec(1,L,t.idNovel,t.chapterNext.no))}}const D=function(t){return["/novel/",t]};function S(t,e){if(1&t&&(c.Ob(0,"div",5),c.Ob(1,"div",6),c.mc(2,x,2,4,"a",7),c.Nb(),c.Ob(3,"div",6),c.Ob(4,"a",8),c.oc(5," Table of Contents "),c.Nb(),c.Nb(),c.Ob(6,"div",6),c.mc(7,V,2,4,"a",7),c.Nb(),c.Nb()),2&t){const t=c.Xb();c.yb(2),c.ac("ngIf",t.chapterPrevious),c.yb(2),c.ac("routerLink",c.dc(3,D,t.idNovel)),c.yb(3),c.ac("ngIf",t.chapterNext)}}function I(t,e){1&t&&c.Kb(0)}function $(t,e){if(1&t&&(c.Mb(0),c.Ob(1,"h1",9),c.oc(2),c.Nb(),c.Jb(3,"hr"),c.Jb(4,"div",10),c.Lb()),2&t){const t=c.Xb();c.yb(2),c.pc(t.renderedTitle),c.yb(2),c.bc("innerHTML",t.renderedText,c.jc)}}function X(t,e){1&t&&c.Kb(0)}const F=[{path:"list",component:C,data:{title:"List Chapter"}},{path:":noChapter",component:(()=>{class t{constructor(t,e,i,n){this.router=t,this.route=e,this.sanitized=i,this.api=n}startContent(){this.idNovel=this.route.snapshot.params.idNovel,this.noChapter=this.route.snapshot.params.noChapter,this.novel=this.api.Novel(this.idNovel),this.loadingChapter=new Promise((t,e)=>{this.novel?!this.chapter||this.chapter.textOriginal?this.getChapter(t,e):(this.chapter=this.api.Chapter(this.idNovel,this.noChapter),this.renderDataView(),t()):this.api.getNovel(this.idNovel).subscribe(i=>{this.novel=this.api.Novel(this.idNovel),this.getChapter(t,e)},t=>{console.log(t),e()})}),this.api.getChapters(this.idNovel).subscribe(t=>{this.chapterPrevious=this.api.Chapter(this.idNovel,+this.noChapter-1),this.chapterNext=this.api.Chapter(this.idNovel,+this.noChapter+1)},t=>{console.log(t)})}renderDataView(){this.renderedTitle=this.chapter.title,this.renderedText=this.chapter.textRevision?this.chapter.textRevision:this.chapter.textOriginal}ngOnInit(){console.log("onInit"),this.startContent()}ngDoCheck(){this.noChapter!=this.route.snapshot.params.noChapter&&this.startContent()}translateText(t){this.loadingChapter.then(e=>{if(this.renderDataView(),t.length>0){let e=[];t.forEach(t=>{t.entries.forEach(i=>{let n=i.entryOriginal.length;e[n]||(e[n]=[]),e[n].push({entryOriginal:i.entryOriginal,entryTranslation:i.entryTranslation,idEntry:i.id,idCategory:t.id,category:t.name})})});for(let t=e.length;t>0;--t)e[t]&&e[t].forEach(t=>{let e=new RegExp(t.entryOriginal,"g");this.renderedTitle=this.renderedTitle.replace(e,"[["+t.entryTranslation+"]]"),this.renderedText=this.renderedText.replace(e,"[["+t.entryTranslation+"]]")});let i=new RegExp("\\]\\]\\[\\[","g");this.renderedTitle=this.renderedTitle.replace(i," "),this.renderedText=this.renderedText.replace(i," "),i=new RegExp("\\]\\]","g"),this.renderedTitle=this.renderedTitle.replace(i,""),this.renderedText=this.renderedText.replace(i,""),i=new RegExp("\\[\\[","g"),this.renderedTitle=this.renderedTitle.replace(i,""),this.renderedText=this.renderedText.replace(i,"")}})}getChapter(t,e){this.api.getChapter(this.idNovel,this.noChapter).subscribe(e=>{this.chapter=this.api.Chapter(this.idNovel,this.noChapter),this.renderDataView(),t()},t=>{console.log(t),e()})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(o.c),c.Ib(o.a),c.Ib(v.b),c.Ib(r.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-chapter-detail"]],decls:7,vars:3,consts:[[1,"sidebar"],[3,"Sidebar2Chapter"],["controlButtons",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"columns","controlButtons"],[1,"column"],["class","button is-large is-primary",3,"routerLink",4,"ngIf"],[1,"button","is-large","is-primary",3,"routerLink"],[1,"title"],[1,"novel-content",3,"innerHTML"]],template:function(t,e){if(1&t&&(c.Ob(0,"div",0),c.Ob(1,"app-chapter-sidebar",1),c.Vb("Sidebar2Chapter",(function(t){return e.translateText(t)})),c.Nb(),c.Nb(),c.mc(2,S,8,5,"ng-template",null,2,c.nc),c.mc(4,I,1,0,"ng-container",3),c.mc(5,$,5,2,"ng-container",4),c.mc(6,X,1,0,"ng-container",3)),2&t){const t=c.hc(3);c.yb(4),c.ac("ngTemplateOutlet",t),c.yb(1),c.ac("ngIf",e.chapter),c.yb(1),c.ac("ngTemplateOutlet",t)}},directives:[k,n.n,n.j,o.f],styles:[".controlButtons[_ngcontent-%COMP%]{margin-top:1px}.controlButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center}.novel-content[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]{z-index:20;position:fixed;width:500px;right:0;top:0;bottom:0;overflow-y:auto;background-color:rgba(63,63,63,.8)}"]}),t})(),data:{title:"View chapter"}},{path:"**",redirectTo:"list"}];let E=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(F)],o.g]}),t})(),j=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[n.b,E,o.g,N.i]]}),t})()}}]);