(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"eCG/":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),i=function(){return function(){}}(),u=t("pMnS"),o=t("ZYCi"),r=t("Ip0R"),a=t("yTNM"),s=t("AytR"),c=function(){function n(n,l,t){this.router=n,this.route=l,this.api=t,this.chapters=[],this.dictionaries=[]}return n.prototype.ngOnInit=function(){var n=this;this.idNovel=this.route.snapshot.params.idNovel,this.novel=this.api.Novel(this.idNovel),this.dictionaries=Object.values(this.api.Dictionaries(this.idNovel)),this.chapters=Object.values(this.api.Chapters(this.idNovel)),this.novel?this.chapterList():this.api.getNovel(this.idNovel).subscribe(function(l){n.novel=n.api.Novel(n.idNovel),n.chapterList()},function(n){console.log(n)})},n.prototype.chapterList=function(n){var l=this;this.chapters.length?this.dictionaryList():this.api.getChapters(this.idNovel,n).subscribe(function(n){var t=l.api.Chapters(l.idNovel);t&&(l.chapters=Object.values(t)),l.dictionaryList()},function(n){console.log(n)})},n.prototype.dictionaryList=function(){var n=this;this.api.getDictionaries(this.idNovel).subscribe(function(l){var t=n.api.Dictionaries(n.idNovel);t&&(n.dictionaries=Object.values(t)),console.log(n.dictionaries)},function(n){console.log(n)})},n.prototype.openGT=function(n,l){var t=s.a.backendServer+"/static/"+this.idNovel+"/"+l.id+"/"+n.no+"/1";t="https://translate.google.com/translate?sl=auto&tl=en&u="+t,window.open(t)},n.prototype.downloadChapter=function(){alert("Needs to be fixed, use Update Chapters for now")},n.prototype.updateChapters=function(){var n=this;alert("Press it only one time, it is working, but there will be no visible response until it's finished.\nConsider Pressing F12 and switching to the Network tab, so you can see when it's finished"),this.api.autoUpdateChapters(this.idNovel).subscribe(function(l){console.log(l),n.chapterList(!0)},function(n){console.log(n)})},n}(),d=e.qb({encapsulation:0,styles:[[".actionButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;width:100%}"]],data:{}});function g(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"a",[["class","button is-info"],["routerLink","['/novel/',idNovel,'add']"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(2,671744,null,0,o.o,[o.l,o.a,r.g],{routerLink:[0,"routerLink"]},null),(n()(),e.Kb(-1,null,["Import Chapter"]))],function(n,l){n(l,2,0,"['/novel/',idNovel,'add']")},function(n,l){n(l,1,0,e.Eb(l,2).target,e.Eb(l,2).href)})}function p(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"a",[["class","button is-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.updateChapters()&&e),e},null,null)),(n()(),e.Kb(-1,null,["Update Chapters"]))],null,null)}function b(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"a",[["class","button is-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.downloadChapter()&&e),e},null,null)),(n()(),e.Kb(-1,null,["Add Next Chapter"]))],null,null)}function h(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,11,"div",[["class","columns actionButtons"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,3,"a",[["class","button is-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,3).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(3,671744,null,0,o.o,[o.l,o.a,r.g],{routerLink:[0,"routerLink"]},null),e.Fb(4,2),(n()(),e.Kb(-1,null,["Dictionary"])),(n()(),e.hb(16777216,null,null,1,null,g)),e.rb(7,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,p)),e.rb(9,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,b)),e.rb(11,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component,e=n(l,4,0,"/novel/dictionary",t.idNovel);n(l,3,0,e),n(l,7,0,t.novel&&!t.novel.flagSyosetu),n(l,9,0,t.novel&&t.novel.flagSyosetu),n(l,11,0,t.novel&&t.novel.flagSyosetu)},function(n,l){n(l,2,0,e.Eb(l,3).target,e.Eb(l,3).href)})}function f(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function v(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openGT(n.parent.context.$implicit,n.context.$implicit)&&e),e},null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.language)})}function C(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"a",[["class","button is-success"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"span",[["class","icon is-small"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,0,"i",[["class","fas fa-check"]],null,null,null,null,null))],null,null)}function y(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"a",[["class","button is-danger"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"span",[["class","icon is-small"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null))],null,null)}function m(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,20,null,null,null,null,null,null,null)),(n()(),e.sb(1,0,null,null,19,"tr",[],[[8,"title",0]],null,null,null,null)),(n()(),e.sb(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Kb(3,null,["",""])),(n()(),e.sb(4,0,null,null,3,"td",[],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,5).onClick()&&i),i},null,null)),e.rb(5,16384,null,0,o.m,[o.l,o.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.Fb(6,3),(n()(),e.Kb(7,null,["",""])),(n()(),e.sb(8,0,null,null,3,"td",[],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,9).onClick()&&i),i},null,null)),e.rb(9,16384,null,0,o.m,[o.l,o.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.Fb(10,3),(n()(),e.Kb(11,null,["",""])),(n()(),e.sb(12,0,null,null,3,"td",[],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,13).onClick()&&i),i},null,null)),e.rb(13,16384,null,0,o.m,[o.l,o.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.Fb(14,3),(n()(),e.Kb(15,null,["",""])),(n()(),e.sb(16,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,v)),e.rb(18,278528,null,0,r.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.hb(0,[["success",2]],null,0,null,C)),(n()(),e.hb(0,[["danger",2]],null,0,null,y))],function(n,l){var t=l.component,e=n(l,6,0,"/novel/",l.context.$implicit.idNovel,l.context.$implicit.no);n(l,5,0,e);var i=n(l,10,0,"/novel/",l.context.$implicit.idNovel,l.context.$implicit.no);n(l,9,0,i);var u=n(l,14,0,"/novel/",l.context.$implicit.idNovel,l.context.$implicit.no);n(l,13,0,u),n(l,18,0,t.dictionaries)},function(n,l){n(l,1,0,e.wb(1,"",l.component.novel.title,"")),n(l,3,0,l.context.$implicit.no),n(l,7,0,l.context.$implicit.title),n(l,11,0,l.context.$implicit.dateOriginalPost),n(l,15,0,l.context.$implicit.dateOriginalRevision)})}function O(n){return e.Lb(0,[(n()(),e.hb(0,[["actionButtons",2]],null,0,null,h)),(n()(),e.hb(16777216,null,null,1,null,f)),e.rb(2,540672,null,0,r.p,[e.O],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.sb(3,0,null,null,18,"div",[],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,17,"table",[["class","table is-striped is-hoverable is-fullwidth"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Number"])),(n()(),e.sb(9,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Title"])),(n()(),e.sb(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Date Created"])),(n()(),e.sb(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Date Updated"])),(n()(),e.sb(15,0,null,null,3,"th",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Dictionary"])),(n()(),e.sb(17,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Google Translator"])),(n()(),e.sb(19,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,m)),e.rb(21,278528,null,0,r.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,e.Eb(l,0)),n(l,21,0,t.chapters)},null)}function E(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"app-chapter-list",[],null,null,null,O,d)),e.rb(1,114688,null,0,c,[o.l,o.a,a.a],null,null)],function(n,l){n(l,1,0)},null)}var k=e.ob("app-chapter-list",c,E,{},{},[]),M=t("gIcY"),x=function(){function n(n,l){this.api=n,this.route=l,this.Sidebar2Chapter=new e.m,this.dictionaries=[],this.categories=[],this.entriesOriginalValues={},this.categoriesOriginalValues={},this.dictionarySelector=""}return n.prototype.ngOnInit=function(){var n=this;this.idNovel=this.route.snapshot.params.idNovel,this.dictionaries=Object.values(this.api.Dictionaries(this.idNovel)),0==this.dictionaries.length?this.api.getDictionaries(this.idNovel).subscribe(function(l){var t=n.api.Dictionaries(n.idNovel);t&&(n.dictionaries=Object.values(t)),n.dictionarySelector=n.dictionaries[0].id,n.dictionarySelected(n.dictionarySelector)},function(n){console.log(n)}):(this.dictionarySelector=this.dictionaries[0].id,this.dictionarySelected(this.dictionarySelector))},n.prototype.ngOnDestroy=function(){delete this.dictionaries,delete this.categories,delete this.entriesOriginalValues,delete this.categoriesOriginalValues,delete this.idCategory,delete this.idDictionary,delete this.idNovel,delete this.dictionarySelector,console.log("destroy Sidebar")},n.prototype.dictionarySelected=function(n){this.idDictionary=n,this.getCache()},n.prototype.getCache=function(){var n=this;0==this.categories.length?this.api.dictionaryCache(this.idNovel,this.idDictionary).subscribe(function(l){n.categories=[],n.categoriesOriginalValues={},n.entriesOriginalValues={},n.categories=Object.values(n.api.Categories(n.idDictionary)),n.categories.forEach(function(l){n.categoriesOriginalValues[l.id]={name:l.name},l.entries=Object.values(n.api.Entries(l.id)),l.entries.forEach(function(t){n.entriesOriginalValues[l.id]||(n.entriesOriginalValues[l.id]={}),n.entriesOriginalValues[l.id][t.id]={entryOriginal:""+t.entryOriginal,entryTranslation:""+t.entryTranslation,description:""+t.description,idCategory:""+t.idCategory}})}),n.refreshTranslation()},function(n){console.log(n)}):this.refreshTranslation()},n.prototype.changeEntry=function(n){n.id>0&&(n.update=n.entryOriginal!=this.entriesOriginalValues[n.idCategory][n.id].entryOriginal||n.entryTranslation!=this.entriesOriginalValues[n.idCategory][n.id].entryTranslation||!!n.description&&n.description!=this.entriesOriginalValues[n.idCategory][n.id].description||n.idCategory!=this.entriesOriginalValues[n.idCategory][n.id].idCategory)},n.prototype.changeCategory=function(n){n.id>0&&(n.update=n.name!=this.categoriesOriginalValues[n.id].name,console.log(n.update))},n.prototype.addEntry=function(n,l){n.push({id:0,entryOriginal:"",entryTranslation:"",description:"",update:!1,idCategory:l})},n.prototype.addCategory=function(){this.categories.push({id:0,idDictionary:this.idDictionary,name:"",update:!1,entries:[]})},n.prototype.refreshTranslation=function(){this.Sidebar2Chapter.emit(this.categories)},n.prototype.refreshOriginal=function(){this.Sidebar2Chapter.emit([])},n.prototype.saveModifications=function(){var n=this;this.api.saveFullDictionary(this.idNovel,this.idDictionary,this.categories).subscribe(function(l){l.changes&&(n.dictionaries=Object.values(n.api.Dictionaries(n.idNovel)),n.categories=[],n.getCache()),console.log(l)},function(n){console.log(n)}),console.log(this.categories)},n.prototype.openOutside=function(n){var l=s.a.backendServer+"/static/"+this.idNovel+"/"+this.idDictionary+"/"+this.route.snapshot.params.noChapter+"/";n&&(l="https://translate.google.com/translate?sl=auto&tl=en&u="+l),window.open(l)},n}(),L=e.qb({encapsulation:0,styles:[[".dictionaryList[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.dictionaryList[_ngcontent-%COMP%]   .dictionary-selector[_ngcontent-%COMP%]{align-self:flex-start;width:100%}.dictionaryList[_ngcontent-%COMP%]   .dictionary-selector[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:33.3%;height:100%}.dictionaryList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{align-self:flex-end}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{color:#fff;width:100%}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{height:30px;width:100%;background:linear-gradient(to bottom,#e570e7 0,#c85ec7 47%,#a849a3 100%)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1.changed[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#009013 0,#00b469 47%,#107020 100%)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > h1.new[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#393cff 0,#1f00cc 47%,#1400cc 100%)}.dictionaryList[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{background-color:transparent;border:0 solid #fff;color:#fff;margin-left:15px}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]{padding:left 10;overflow-y:auto}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(odd){background-color:gray}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div.changed[_ngcontent-%COMP%]{background-color:green}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%] > div.new[_ngcontent-%COMP%]{background-color:#00f}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:0 solid #fff;color:#fff}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-original[_ngcontent-%COMP%], .dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-translation[_ngcontent-%COMP%]{width:30%}.dictionaryList[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry-description[_ngcontent-%COMP%]{width:40%}.dictionaryList[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}.dictionaryList[_ngcontent-%COMP%]   .dictionary-buttons[_ngcontent-%COMP%]{width:100%}.dictionaryList[_ngcontent-%COMP%]   .dictionary-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:50%;height:100%}"]],data:{}});function P(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.rb(1,147456,null,0,M.q,[e.k,e.D,[2,M.s]],{value:[0,"value"]},null),e.rb(2,147456,null,0,M.w,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Kb(3,null,["",""]))],function(n,l){n(l,1,0,e.wb(1,"",l.context.$implicit.id,"")),n(l,2,0,e.wb(1,"",l.context.$implicit.id,""))},function(n,l){n(l,3,0,l.context.$implicit.language)})}function _(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,14,"li",[["class","dictionary-selector"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,11,"select",[["class","select"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,t){var i=!0,u=n.component;return"change"===l&&(i=!1!==e.Eb(n,2).onChange(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,2).onTouched()&&i),"ngModelChange"===l&&(i=!1!==(u.dictionarySelector=t)&&i),"change"===l&&(i=!1!==u.dictionarySelected(t.target.value)&&i),i},null,null)),e.rb(2,16384,null,0,M.s,[e.D,e.k],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.s]),e.rb(4,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(6,16384,null,0,M.n,[[4,M.m]],null,null),(n()(),e.sb(7,0,null,null,3,"option",[["selected","selected"],["value",""]],null,null,null,null,null)),e.rb(8,147456,null,0,M.q,[e.k,e.D,[2,M.s]],{value:[0,"value"]},null),e.rb(9,147456,null,0,M.w,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Kb(-1,null,["Choose a language"])),(n()(),e.hb(16777216,null,null,1,null,P)),e.rb(12,278528,null,0,r.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(13,0,null,null,0,"input",[["class","button is-small is-info"],["type","button"],["value","Refresh Translation"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.refreshTranslation()&&e),e},null,null)),(n()(),e.sb(14,0,null,null,0,"input",[["class","button is-small is-warning"],["type","button"],["value","Refresh to Original"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.refreshOriginal()&&e),e},null,null))],function(n,l){var t=l.component;n(l,4,0,t.dictionarySelector),n(l,8,0,""),n(l,9,0,""),n(l,12,0,t.dictionaries)},function(n,l){n(l,1,0,e.Eb(l,6).ngClassUntouched,e.Eb(l,6).ngClassTouched,e.Eb(l,6).ngClassPristine,e.Eb(l,6).ngClassDirty,e.Eb(l,6).ngClassValid,e.Eb(l,6).ngClassInvalid,e.Eb(l,6).ngClassPending)})}function T(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,27,"div",[],null,null,null,null,null)),e.Hb(512,null,r.u,r.v,[e.s,e.t,e.k,e.D]),e.rb(2,278528,null,0,r.h,[r.u],{ngClass:[0,"ngClass"]},null),e.Gb(3,{changed:0,new:1}),(n()(),e.sb(4,0,null,null,5,"input",[["class","entry-original"],["placeholder","Original"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,u=n.component;return"input"===l&&(i=!1!==e.Eb(n,5)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,5).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Eb(n,5)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Eb(n,5)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.entryOriginal=t)&&i),"ngModelChange"===l&&(i=!1!==u.changeEntry(n.context.$implicit)&&i),i},null,null)),e.rb(5,16384,null,0,M.d,[e.D,e.k,[2,M.a]],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.d]),e.rb(7,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(9,16384,null,0,M.n,[[4,M.m]],null,null),(n()(),e.sb(10,0,null,null,5,"input",[["class","entry-translation"],["placeholder","Translation"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,u=n.component;return"input"===l&&(i=!1!==e.Eb(n,11)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,11).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Eb(n,11)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Eb(n,11)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.entryTranslation=t)&&i),"ngModelChange"===l&&(i=!1!==u.changeEntry(n.context.$implicit)&&i),i},null,null)),e.rb(11,16384,null,0,M.d,[e.D,e.k,[2,M.a]],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.d]),e.rb(13,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(15,16384,null,0,M.n,[[4,M.m]],null,null),(n()(),e.sb(16,0,null,null,5,"input",[["class","entry-description"],["placeholder","Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,u=n.component;return"input"===l&&(i=!1!==e.Eb(n,17)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,17).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Eb(n,17)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Eb(n,17)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.description=t)&&i),"ngModelChange"===l&&(i=!1!==u.changeEntry(n.context.$implicit)&&i),i},null,null)),e.rb(17,16384,null,0,M.d,[e.D,e.k,[2,M.a]],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.d]),e.rb(19,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(21,16384,null,0,M.n,[[4,M.m]],null,null),(n()(),e.sb(22,0,null,null,5,"input",[["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0;return"input"===l&&(i=!1!==e.Eb(n,23)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,23).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Eb(n,23)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Eb(n,23)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.idCategory=t)&&i),i},null,null)),e.rb(23,16384,null,0,M.d,[e.D,e.k,[2,M.a]],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.d]),e.rb(25,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(27,16384,null,0,M.n,[[4,M.m]],null,null)],function(n,l){var t=n(l,3,0,1==l.context.$implicit.update,0==l.context.$implicit.id);n(l,2,0,t),n(l,7,0,l.context.$implicit.entryOriginal),n(l,13,0,l.context.$implicit.entryTranslation),n(l,19,0,l.context.$implicit.description),n(l,25,0,l.context.$implicit.idCategory)},function(n,l){n(l,4,0,e.Eb(l,9).ngClassUntouched,e.Eb(l,9).ngClassTouched,e.Eb(l,9).ngClassPristine,e.Eb(l,9).ngClassDirty,e.Eb(l,9).ngClassValid,e.Eb(l,9).ngClassInvalid,e.Eb(l,9).ngClassPending),n(l,10,0,e.Eb(l,15).ngClassUntouched,e.Eb(l,15).ngClassTouched,e.Eb(l,15).ngClassPristine,e.Eb(l,15).ngClassDirty,e.Eb(l,15).ngClassValid,e.Eb(l,15).ngClassInvalid,e.Eb(l,15).ngClassPending),n(l,16,0,e.Eb(l,21).ngClassUntouched,e.Eb(l,21).ngClassTouched,e.Eb(l,21).ngClassPristine,e.Eb(l,21).ngClassDirty,e.Eb(l,21).ngClassValid,e.Eb(l,21).ngClassInvalid,e.Eb(l,21).ngClassPending),n(l,22,0,e.Eb(l,27).ngClassUntouched,e.Eb(l,27).ngClassTouched,e.Eb(l,27).ngClassPristine,e.Eb(l,27).ngClassDirty,e.Eb(l,27).ngClassValid,e.Eb(l,27).ngClassInvalid,e.Eb(l,27).ngClassPending)})}function w(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),e.sb(1,0,null,null,10,"li",[["class","categories"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,9,"h1",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.selectOpenCategory=n.context.index)&&e),e},null,null)),e.Hb(512,null,r.u,r.v,[e.s,e.t,e.k,e.D]),e.rb(4,278528,null,0,r.h,[r.u],{ngClass:[0,"ngClass"]},null),e.Gb(5,{changed:0,new:1}),(n()(),e.sb(6,0,null,null,5,"input",[["class","category-name"],["placeholder","Category Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var i=!0,u=n.component;return"input"===l&&(i=!1!==e.Eb(n,7)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Eb(n,7).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Eb(n,7)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Eb(n,7)._compositionEnd(t.target.value)&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.name=t)&&i),"ngModelChange"===l&&(i=!1!==u.changeCategory(n.context.$implicit)&&i),i},null,null)),e.rb(7,16384,null,0,M.d,[e.D,e.k,[2,M.a]],null,null),e.Hb(1024,null,M.l,function(n){return[n]},[M.d]),e.rb(9,671744,null,0,M.p,[[8,null],[8,null],[8,null],[6,M.l]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,M.m,null,[M.p]),e.rb(11,16384,null,0,M.n,[[4,M.m]],null,null),(n()(),e.sb(12,0,null,null,6,"li",[["class","entries"]],null,null,null,null,null)),e.Hb(512,null,r.u,r.v,[e.s,e.t,e.k,e.D]),e.rb(14,278528,null,0,r.h,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Gb(15,{hidden:0}),(n()(),e.hb(16777216,null,null,1,null,T)),e.rb(17,278528,null,0,r.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(18,0,null,null,0,"input",[["type","button"],["value","+ Add new Entry"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addEntry(n.context.$implicit.entries,n.context.$implicit.id)&&e),e},null,null))],function(n,l){var t=l.component,e=n(l,5,0,1==l.context.$implicit.update,0==l.context.$implicit.id);n(l,4,0,e),n(l,9,0,l.context.$implicit.name);var i=n(l,15,0,t.selectOpenCategory!=l.context.index);n(l,14,0,"entries",i),n(l,17,0,l.context.$implicit.entries)},function(n,l){n(l,6,0,e.Eb(l,11).ngClassUntouched,e.Eb(l,11).ngClassTouched,e.Eb(l,11).ngClassPristine,e.Eb(l,11).ngClassDirty,e.Eb(l,11).ngClassValid,e.Eb(l,11).ngClassInvalid,e.Eb(l,11).ngClassPending)})}function N(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,11,"ul",[["class","dictionaryList"]],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,_)),e.rb(2,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,w)),e.rb(4,278528,null,0,r.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(5,0,null,null,0,"li",[["class","categories"]],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,2,"li",[["class","dictionary-buttons"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,0,"input",[["class","button is-small is-primary"],["type","button"],["value","+ Add new Category"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addCategory()&&e),e},null,null)),(n()(),e.sb(8,0,null,null,0,"input",[["class","button is-small is-danger"],["type","button"],["value","Save Modifications"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.saveModifications()&&e),e},null,null)),(n()(),e.sb(9,0,null,null,2,"li",[["class","dictionary-buttons"]],null,null,null,null,null)),(n()(),e.sb(10,0,null,null,0,"input",[["class","button is-small is-info"],["type","button"],["value","Google Translate"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOutside(!0)&&e),e},null,null)),(n()(),e.sb(11,0,null,null,0,"input",[["class","button is-small is-warning"],["type","button"],["value","Open Keyword Translated Raw"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOutside(!1)&&e),e},null,null))],function(n,l){var t=l.component;n(l,2,0,t.dictionaries.length>0),n(l,4,0,t.categories)},null)}var D=function(){function n(n,l,t,e){this.router=n,this.route=l,this.sanitized=t,this.api=e}return n.prototype.startContent=function(){var n=this;this.idNovel=this.route.snapshot.params.idNovel,this.noChapter=this.route.snapshot.params.noChapter,this.novel=this.api.Novel(this.idNovel),this.loadingChapter=new Promise(function(l,t){n.novel?!n.chapter||n.chapter.textOriginal?n.getChapter(l,t):(n.chapter=n.api.Chapter(n.idNovel,n.noChapter),n.renderDataView(),l()):n.api.getNovel(n.idNovel).subscribe(function(e){n.novel=n.api.Novel(n.idNovel),n.getChapter(l,t)},function(n){console.log(n),t()})}),this.api.getChapters(this.idNovel).subscribe(function(l){n.chapterPrevious=n.api.Chapter(n.idNovel,+n.noChapter-1),n.chapterNext=n.api.Chapter(n.idNovel,+n.noChapter+1)},function(n){console.log(n)})},n.prototype.renderDataView=function(){this.renderedTitle=this.chapter.title,this.renderedText=this.chapter.textRevision?this.chapter.textRevision:this.chapter.textOriginal},n.prototype.ngOnInit=function(){console.log("onInit"),this.startContent()},n.prototype.ngDoCheck=function(){this.noChapter!=this.route.snapshot.params.noChapter&&this.startContent()},n.prototype.translateText=function(n){var l=this;this.loadingChapter.then(function(t){if(l.renderDataView(),n.length>0){var e=[];n.forEach(function(n){n.entries.forEach(function(l){var t=l.entryOriginal.length;e[t]||(e[t]=[]),e[t].push({entryOriginal:l.entryOriginal,entryTranslation:l.entryTranslation,idEntry:l.id,idCategory:n.id,category:n.name})})});for(var i=e.length;i>0;--i)e[i]&&e[i].forEach(function(n){var t=new RegExp(n.entryOriginal,"g");l.renderedTitle=l.renderedTitle.replace(t,"[["+n.entryTranslation+"]]"),l.renderedText=l.renderedText.replace(t,"[["+n.entryTranslation+"]]")});var u=new RegExp("\\]\\]\\[\\[","g");l.renderedTitle=l.renderedTitle.replace(u," "),l.renderedText=l.renderedText.replace(u," "),u=new RegExp("\\]\\]","g"),l.renderedTitle=l.renderedTitle.replace(u,""),l.renderedText=l.renderedText.replace(u,""),u=new RegExp("\\[\\[","g"),l.renderedTitle=l.renderedTitle.replace(u,""),l.renderedText=l.renderedText.replace(u,"")}})},n.prototype.getChapter=function(n,l){var t=this;this.api.getChapter(this.idNovel,this.noChapter).subscribe(function(l){t.chapter=t.api.Chapter(t.idNovel,t.noChapter),t.renderDataView(),n()},function(n){console.log(n),l()})},n}(),K=t("ZYjt"),$=e.qb({encapsulation:0,styles:[[".controlButtons[_ngcontent-%COMP%]{margin-top:1px}.controlButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center}.novel-content[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]{z-index:20;position:fixed;width:500px;right:0;top:0;bottom:0;overflow-y:auto;background-color:rgba(63,63,63,.8)}"]],data:{}});function I(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,3,"a",[["class","button is-large is-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(1,671744,null,0,o.o,[o.l,o.a,r.g],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Kb(-1,null,[" Previous "]))],function(n,l){var t=l.component,e=n(l,2,0,"/novel/",t.idNovel,t.chapterPrevious.no);n(l,1,0,e)},function(n,l){n(l,0,0,e.Eb(l,1).target,e.Eb(l,1).href)})}function S(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,3,"a",[["class","button is-large is-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(1,671744,null,0,o.o,[o.l,o.a,r.g],{routerLink:[0,"routerLink"]},null),e.Fb(2,3),(n()(),e.Kb(-1,null,[" Next "]))],function(n,l){var t=l.component,e=n(l,2,0,"/novel/",t.idNovel,t.chapterNext.no);n(l,1,0,e)},function(n,l){n(l,0,0,e.Eb(l,1).target,e.Eb(l,1).href)})}function V(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,11,"div",[["class","columns controlButtons"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,I)),e.rb(3,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(4,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,3,"a",[["class","button is-large is-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Eb(n,6).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(6,671744,null,0,o.o,[o.l,o.a,r.g],{routerLink:[0,"routerLink"]},null),e.Fb(7,2),(n()(),e.Kb(-1,null,[" Table of Contents "])),(n()(),e.sb(9,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,S)),e.rb(11,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.chapterPrevious);var e=n(l,7,0,"/novel/",t.idNovel);n(l,6,0,e),n(l,11,0,t.chapterNext)},function(n,l){n(l,5,0,e.Eb(l,6).target,e.Eb(l,6).href)})}function j(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function F(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"h1",[["class","title"]],null,null,null,null,null)),(n()(),e.Kb(2,null,["",""])),(n()(),e.sb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,0,"div",[["class","novel-content"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,2,0,t.renderedTitle),n(l,4,0,e.wb(1,"",t.renderedText,""))})}function H(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function R(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"div",[["class","sidebar"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"app-chapter-sidebar",[],null,[[null,"Sidebar2Chapter"]],function(n,l,t){var e=!0;return"Sidebar2Chapter"===l&&(e=!1!==n.component.translateText(t)&&e),e},N,L)),e.rb(2,245760,null,0,x,[a.a,o.a],null,{Sidebar2Chapter:"Sidebar2Chapter"}),(n()(),e.hb(0,[["controlButtons",2]],null,0,null,V)),(n()(),e.hb(16777216,null,null,1,null,j)),e.rb(5,540672,null,0,r.p,[e.O],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),e.hb(16777216,null,null,1,null,F)),e.rb(7,16384,null,0,r.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,H)),e.rb(9,540672,null,0,r.p,[e.O],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(n,l){var t=l.component;n(l,2,0),n(l,5,0,e.Eb(l,3)),n(l,7,0,t.chapter),n(l,9,0,e.Eb(l,3))},null)}function U(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"app-chapter-detail",[],null,null,null,R,$)),e.rb(1,376832,null,0,D,[o.l,o.a,K.b,a.a],null,null)],function(n,l){n(l,1,0)},null)}var G=e.ob("app-chapter-detail",D,U,{},{},[]),B={title:"List Chapter"},q={title:"View chapter"},A=function(){return function(){}}();t.d(l,"ChapterModuleNgFactory",function(){return Y});var Y=e.pb(i,[],function(n){return e.Bb([e.Cb(512,e.j,e.ab,[[8,[u.a,k,G]],[3,e.j],e.x]),e.Cb(4608,r.l,r.k,[e.u,[2,r.x]]),e.Cb(4608,M.u,M.u,[]),e.Cb(1073742336,r.b,r.b,[]),e.Cb(1073742336,o.p,o.p,[[2,o.u],[2,o.l]]),e.Cb(1073742336,A,A,[]),e.Cb(1073742336,M.t,M.t,[]),e.Cb(1073742336,M.k,M.k,[]),e.Cb(1073742336,i,i,[]),e.Cb(1024,o.j,function(){return[[{path:"list",component:c,data:B},{path:":noChapter",component:D,data:q},{path:"**",redirectTo:"list"}]]},[])])})}}]);