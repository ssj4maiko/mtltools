!function(){function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function o(i,o,n){return o&&t(i.prototype,o),n&&t(i,n),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+opn":function(t,n,e){"use strict";e.r(n),e.d(n,"CategoryModule",(function(){return V}));var a=e("ofXK"),r=e("tyNb"),c=e("yTNM"),b=e("fXoL"),l=function(i,t){return["/novel/dictionary",i,t,"add"]};function s(i,t){if(1&i){var o=b.Pb();b.Ob(0,"div",7),b.Ob(1,"div",8),b.Ob(2,"a",9),b.Vb("click",(function(){return b.ic(o),b.Xb().createCache()})),b.oc(3,"Update Dictionary Cache"),b.Nb(),b.Nb(),b.Ob(4,"div",8),b.Ob(5,"a",10),b.oc(6,"Add Category"),b.Nb(),b.Nb(),b.Nb()}if(2&i){var n=b.Xb();b.yb(5),b.ac("routerLink",b.ec(1,l,n.idNovel,n.idDictionary))}}function u(i,t){1&i&&b.Kb(0)}var d=function(i,t,o){return["/novel/dictionary",i,t,o]},f=function(i,t,o){return["/novel/dictionary",i,t,o,"edit"]},y=function(i,t,o){return["/novel/dictionary",i,t,o,"/del"]};function m(i,t){if(1&i&&(b.Ob(0,"tr",11),b.Ob(1,"td"),b.oc(2),b.Nb(),b.Ob(3,"td"),b.oc(4),b.Nb(),b.Ob(5,"td"),b.Ob(6,"a",12),b.Jb(7,"i",13),b.Nb(),b.oc(8," / "),b.Ob(9,"a",14),b.Jb(10,"i",15),b.Nb(),b.Nb(),b.Nb()),2&i){var o=t.$implicit,n=b.Xb();b.ac("routerLink",b.fc(5,d,n.idNovel,n.idDictionary,o.id)),b.yb(2),b.pc(o.name),b.yb(2),b.pc(o.count_entries[0]?o.count_entries[0].count:"-"),b.yb(2),b.ac("routerLink",b.fc(9,f,n.idNovel,n.idDictionary,o.id)),b.yb(3),b.ac("routerLink",b.fc(13,y,n.idNovel,n.idDictionary,o.id))}}var p,h=((p=function(){function t(o,n,e){i(this,t),this.router=o,this.route=n,this.api=e,this.categories=[]}return o(t,[{key:"ngOnInit",value:function(){var i=this;this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.novel=this.api.Novel(this.idNovel),this.dictionary=this.api.Dictionary(this.idNovel,this.idDictionary),this.novel?this.dictionaryList():this.api.getNovel(this.idNovel).subscribe((function(t){i.novel=i.api.Novel(i.idNovel),i.dictionaryList()}),(function(i){console.log(i)}))}},{key:"dictionaryList",value:function(){var i=this;this.dictionary?this.categoryList():this.api.getDictionaries(this.idNovel).subscribe((function(t){i.dictionary=i.api.Dictionary(i.idNovel,i.idDictionary),i.categoryList()}),(function(i){console.log(i)}))}},{key:"categoryList",value:function(){var i=this;this.api.getCategories(this.idNovel,this.idDictionary,!0).subscribe((function(t){i.categories=Object.values(i.api.Categories(i.idDictionary))}),(function(i){console.log(i)}))}},{key:"createCache",value:function(){this.api.dictionaryCreateCache(this.idNovel,this.idDictionary).subscribe((function(i){alert(i)}),(function(i){console.log(i)}))}}]),t}()).\u0275fac=function(i){return new(i||p)(b.Ib(r.c),b.Ib(r.a),b.Ib(c.a))},p.\u0275cmp=b.Cb({type:p,selectors:[["app-list"]],decls:15,vars:2,consts:[["actionButtons",""],[4,"ngTemplateOutlet"],[1,"table","is-striped","is-hoverable","is-fullwidth"],[2,"width","200px"],[2,"width","150px"],[1,"clickable-table"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"columns","actionButtons"],[1,"column"],[1,"button","is-primary",3,"click"],[1,"button","is-info",3,"routerLink"],[3,"routerLink"],[1,"icon","has-text-success",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"icon","has-text-danger",3,"routerLink"],[1,"fas","fa-ban"]],template:function(i,t){if(1&i&&(b.mc(0,s,7,4,"ng-template",null,0,b.nc),b.mc(2,u,1,0,"ng-container",1),b.Ob(3,"div"),b.Ob(4,"table",2),b.Ob(5,"thead"),b.Ob(6,"tr"),b.Ob(7,"th"),b.oc(8,"Name"),b.Nb(),b.Ob(9,"th",3),b.oc(10,"# of Entries"),b.Nb(),b.Ob(11,"th",4),b.oc(12,"Actions"),b.Nb(),b.Nb(),b.Nb(),b.Ob(13,"tbody",5),b.mc(14,m,11,17,"tr",6),b.Nb(),b.Nb(),b.Nb()),2&i){var o=b.hc(1);b.yb(2),b.ac("ngTemplateOutlet",o),b.yb(12),b.ac("ngForOf",t.categories)}},directives:[a.n,a.i,r.f,r.d],styles:[".actionButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),p),g=e("WIjz"),v=e("3Pt+");function N(i,t){if(1&i&&(b.Mb(0,null,12),b.Jb(2,"input",13),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(2),b.bc("formControlName",o.name)}}function O(i,t){if(1&i&&(b.Mb(0,null,14),b.Ob(2,"label",15),b.Jb(3,"input",16),b.oc(4),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(3),b.bc("formControlName",o.name),b.yb(1),b.qc(" ",o.label," ")}}function C(i,t){if(1&i&&(b.Ob(0,"option",19),b.oc(1),b.Nb()),2&i){var o=t.$implicit;b.bc("value",o.value),b.yb(1),b.pc(o.label)}}function k(i,t){if(1&i&&(b.Mb(0,null,14),b.Ob(2,"label"),b.oc(3),b.Nb(),b.Ob(4,"div",5),b.Ob(5,"select",17),b.mc(6,C,2,2,"option",18),b.Nb(),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(3),b.pc(o.label),b.yb(2),b.bc("formControlName",o.name),b.yb(1),b.ac("ngForOf",o.options)}}function w(i,t){if(1&i&&(b.Mb(0,null,20),b.Ob(2,"label",21),b.oc(3),b.Nb(),b.Ob(4,"div",5),b.Jb(5,"input",22),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(2),b.bc("for",o.name),b.yb(1),b.pc(o.label),b.yb(2),b.bc("type",o.type),b.bc("id",o.name),b.bc("formControlName",o.name)}}function D(i,t){if(1&i&&(b.Ob(0,"div",8),b.Mb(1,9),b.mc(2,N,3,1,"ng-container",10),b.mc(3,O,5,2,"ng-container",10),b.mc(4,k,7,3,"ng-container",10),b.mc(5,w,6,5,"ng-container",11),b.Lb(),b.Nb()),2&i){var o=t.$implicit;b.yb(1),b.ac("ngSwitch",o.type),b.yb(1),b.ac("ngSwitchCase","hidden"),b.yb(1),b.ac("ngSwitchCase","checkbox"),b.yb(1),b.ac("ngSwitchCase","select")}}function L(i,t){if(1&i&&(b.Mb(0,null,12),b.Jb(2,"input",13),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(2),b.bc("formControlName",o.name)}}function F(i,t){if(1&i&&(b.Mb(0,null,14),b.Ob(2,"label",15),b.Jb(3,"input",16),b.oc(4),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(3),b.bc("formControlName",o.name),b.yb(1),b.qc(" ",o.label," ")}}function S(i,t){if(1&i&&(b.Ob(0,"option",19),b.oc(1),b.Nb()),2&i){var o=t.$implicit;b.bc("value",o.value),b.yb(1),b.pc(o.label)}}function x(i,t){if(1&i&&(b.Mb(0,null,14),b.Ob(2,"label"),b.oc(3),b.Nb(),b.Ob(4,"div",5),b.Ob(5,"select",17),b.mc(6,S,2,2,"option",18),b.Nb(),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(3),b.pc(o.label),b.yb(2),b.bc("formControlName",o.name),b.yb(1),b.ac("ngForOf",o.options)}}function M(i,t){if(1&i&&(b.Mb(0,null,20),b.Ob(2,"label",21),b.oc(3),b.Nb(),b.Ob(4,"div",5),b.Jb(5,"input",22),b.Nb(),b.Lb()),2&i){var o=b.Xb().$implicit;b.yb(2),b.bc("for",o.name),b.yb(1),b.pc(o.label),b.yb(2),b.bc("type",o.type),b.bc("id",o.name),b.bc("formControlName",o.name)}}function I(i,t){if(1&i&&(b.Ob(0,"div",8),b.Mb(1,9),b.mc(2,L,3,1,"ng-container",10),b.mc(3,F,5,2,"ng-container",10),b.mc(4,x,7,3,"ng-container",10),b.mc(5,M,6,5,"ng-container",11),b.Lb(),b.Nb()),2&i){var o=t.$implicit;b.yb(1),b.ac("ngSwitch",o.type),b.yb(1),b.ac("ngSwitchCase","hidden"),b.yb(1),b.ac("ngSwitchCase","checkbox"),b.yb(1),b.ac("ngSwitchCase","select")}}var G,X,$,J,B=[{path:"",component:h,data:{title:"List Categories"}},{path:"add",component:(X=function(){function t(o,n,e,a){i(this,t),this.router=o,this.route=n,this.api=e,this.formBuilder=a,this.form=[new g.a("idDictionary","idDictionary","hidden"),new g.a("name","Name","text")]}return o(t,[{key:"ngOnInit",value:function(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.formTitle="Add new Category",this.formGroup=this.formBuilder.group({idDictionary:[null],name:[null]})}},{key:"submitForm",value:function(i){var t=this;console.log(i),this.api.addCategory(this.idNovel,this.idDictionary,i).subscribe((function(i){console.log(i),t.router.navigate(["/novel/dictionary",t.idNovel,t.idDictionary])}),(function(i){console.log(i)}))}},{key:"goBack",value:function(){this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])}}]),t}(),X.\u0275fac=function(i){return new(i||X)(b.Ib(r.c),b.Ib(r.a),b.Ib(c.a),b.Ib(v.e))},X.\u0275cmp=b.Cb({type:X,selectors:[["app-category-add"]],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,t){1&i&&(b.Ob(0,"div",0),b.Ob(1,"h1",1),b.oc(2),b.Nb(),b.Ob(3,"form",2),b.Vb("ngSubmit",(function(){return t.submitForm(t.formGroup.value)})),b.mc(4,D,6,4,"div",3),b.Ob(5,"div",4),b.Ob(6,"div",5),b.Jb(7,"input",6),b.Nb(),b.Ob(8,"div",5),b.Ob(9,"input",7),b.Vb("click",(function(){return t.goBack()})),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&i&&(b.yb(2),b.pc(t.formTitle),b.yb(1),b.ac("formGroup",t.formGroup),b.yb(1),b.ac("ngForOf",t.form))},directives:[v.q,v.k,v.g,a.i,a.k,a.l,a.m,v.b,v.j,v.f,v.a,v.o,v.m,v.p],styles:[".form-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px}"]}),X),data:{title:"Add Categories"}},{path:":idCategory/edit",component:(G=function(){function t(o,n,e,a){i(this,t),this.router=o,this.route=n,this.api=e,this.formBuilder=a,this.form=[new g.a("id","id","hidden"),new g.a("idDictionary","idDictionary","hidden"),new g.a("name","Name","text")]}return o(t,[{key:"ngOnInit",value:function(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.idCategory=this.route.snapshot.params.idCategory,this.formTitle="Update Category",this.formGroup=this.formBuilder.group({id:[null],idDictionary:[null],name:[null]}),this.getCategory()}},{key:"getCategory",value:function(){var i=this;this.category=this.api.Category(this.idDictionary,this.idCategory),this.category?this.setFormValues():this.api.getCategory(this.idNovel,this.idDictionary,this.idCategory).subscribe((function(t){i.category=i.api.Category(i.idDictionary,i.idCategory),i.setFormValues()}))}},{key:"setFormValues",value:function(){this.formGroup.setValue({id:this.category.id,idDictionary:this.category.idDictionary,name:this.category.name})}},{key:"submitForm",value:function(i){var t=this;console.log(i),this.api.updateCategory(this.idNovel,this.idDictionary,this.idCategory,i).subscribe((function(i){console.log(i),t.router.navigate(["/novel/dictionary",t.idNovel,t.idDictionary])}),(function(i){console.log(i)}))}},{key:"goBack",value:function(){this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])}}]),t}(),G.\u0275fac=function(i){return new(i||G)(b.Ib(r.c),b.Ib(r.a),b.Ib(c.a),b.Ib(v.e))},G.\u0275cmp=b.Cb({type:G,selectors:[["app-category-edit"]],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,t){1&i&&(b.Ob(0,"div",0),b.Ob(1,"h1",1),b.oc(2),b.Nb(),b.Ob(3,"form",2),b.Vb("ngSubmit",(function(){return t.submitForm(t.formGroup.value)})),b.mc(4,I,6,4,"div",3),b.Ob(5,"div",4),b.Ob(6,"div",5),b.Jb(7,"input",6),b.Nb(),b.Ob(8,"div",5),b.Ob(9,"input",7),b.Vb("click",(function(){return t.goBack()})),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&i&&(b.yb(2),b.pc(t.formTitle),b.yb(1),b.ac("formGroup",t.formGroup),b.yb(1),b.ac("ngForOf",t.form))},directives:[v.q,v.k,v.g,a.i,a.k,a.l,a.m,v.b,v.j,v.f,v.a,v.o,v.m,v.p],styles:[".form-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px}"]}),G),data:{title:"Edit Category"}},{path:":idCategory",loadChildren:"../entry#EntryModule",data:{title:"View Category"}},{path:"**",redirectTo:""}],T=((J=function t(){i(this,t)}).\u0275mod=b.Gb({type:J}),J.\u0275inj=b.Fb({factory:function(i){return new(i||J)},imports:[[r.g.forChild(B)],r.g]}),J),V=(($=function t(){i(this,t)}).\u0275mod=b.Gb({type:$}),$.\u0275inj=b.Fb({factory:function(i){return new(i||$)},imports:[[a.b,T,v.i,v.n]]}),$)}}])}();