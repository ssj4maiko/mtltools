(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+opn":function(i,t,o){"use strict";o.r(t),o.d(t,"CategoryModule",(function(){return I}));var e=o("ofXK"),n=o("tyNb"),c=o("yTNM"),r=o("fXoL");const a=function(i,t){return["/novel/dictionary",i,t,"add"]};function s(i,t){if(1&i){const i=r.Pb();r.Ob(0,"div",7),r.Ob(1,"div",8),r.Ob(2,"a",9),r.Vb("click",(function(){return r.ic(i),r.Xb().createCache()})),r.oc(3,"Update Dictionary Cache"),r.Nb(),r.Nb(),r.Ob(4,"div",8),r.Ob(5,"a",10),r.oc(6,"Add Category"),r.Nb(),r.Nb(),r.Nb()}if(2&i){const i=r.Xb();r.yb(5),r.ac("routerLink",r.ec(1,a,i.idNovel,i.idDictionary))}}function b(i,t){1&i&&r.Kb(0)}const l=function(i,t,o){return["/novel/dictionary",i,t,o]},d=function(i,t,o){return["/novel/dictionary",i,t,o,"edit"]},u=function(i,t,o){return["/novel/dictionary",i,t,o,"/del"]};function h(i,t){if(1&i&&(r.Ob(0,"tr",11),r.Ob(1,"td"),r.oc(2),r.Nb(),r.Ob(3,"td"),r.oc(4),r.Nb(),r.Ob(5,"td"),r.Ob(6,"a",12),r.Jb(7,"i",13),r.Nb(),r.oc(8," / "),r.Ob(9,"a",14),r.Jb(10,"i",15),r.Nb(),r.Nb(),r.Nb()),2&i){const i=t.$implicit,o=r.Xb();r.ac("routerLink",r.fc(5,l,o.idNovel,o.idDictionary,i.id)),r.yb(2),r.pc(i.name),r.yb(2),r.pc(i.count_entries[0]?i.count_entries[0].count:"-"),r.yb(2),r.ac("routerLink",r.fc(9,d,o.idNovel,o.idDictionary,i.id)),r.yb(3),r.ac("routerLink",r.fc(13,u,o.idNovel,o.idDictionary,i.id))}}let m=(()=>{class i{constructor(i,t,o){this.router=i,this.route=t,this.api=o,this.categories=[]}ngOnInit(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.novel=this.api.Novel(this.idNovel),this.dictionary=this.api.Dictionary(this.idNovel,this.idDictionary),this.novel?this.dictionaryList():this.api.getNovel(this.idNovel).subscribe(i=>{this.novel=this.api.Novel(this.idNovel),this.dictionaryList()},i=>{console.log(i)})}dictionaryList(){this.dictionary?this.categoryList():this.api.getDictionaries(this.idNovel).subscribe(i=>{this.dictionary=this.api.Dictionary(this.idNovel,this.idDictionary),this.categoryList()},i=>{console.log(i)})}categoryList(){this.api.getCategories(this.idNovel,this.idDictionary,!0).subscribe(i=>{this.categories=Object.values(this.api.Categories(this.idDictionary))},i=>{console.log(i)})}createCache(){this.api.dictionaryCreateCache(this.idNovel,this.idDictionary).subscribe(i=>{alert(i)},i=>{console.log(i)})}}return i.\u0275fac=function(t){return new(t||i)(r.Ib(n.c),r.Ib(n.a),r.Ib(c.a))},i.\u0275cmp=r.Cb({type:i,selectors:[["app-list"]],decls:15,vars:2,consts:[["actionButtons",""],[4,"ngTemplateOutlet"],[1,"table","is-striped","is-hoverable","is-fullwidth"],[2,"width","200px"],[2,"width","150px"],[1,"clickable-table"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"columns","actionButtons"],[1,"column"],[1,"button","is-primary",3,"click"],[1,"button","is-info",3,"routerLink"],[3,"routerLink"],[1,"icon","has-text-success",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"icon","has-text-danger",3,"routerLink"],[1,"fas","fa-ban"]],template:function(i,t){if(1&i&&(r.mc(0,s,7,4,"ng-template",null,0,r.nc),r.mc(2,b,1,0,"ng-container",1),r.Ob(3,"div"),r.Ob(4,"table",2),r.Ob(5,"thead"),r.Ob(6,"tr"),r.Ob(7,"th"),r.oc(8,"Name"),r.Nb(),r.Ob(9,"th",3),r.oc(10,"# of Entries"),r.Nb(),r.Ob(11,"th",4),r.oc(12,"Actions"),r.Nb(),r.Nb(),r.Nb(),r.Ob(13,"tbody",5),r.mc(14,h,11,17,"tr",6),r.Nb(),r.Nb(),r.Nb()),2&i){const i=r.hc(1);r.yb(2),r.ac("ngTemplateOutlet",i),r.yb(12),r.ac("ngForOf",t.categories)}},directives:[e.n,e.i,n.f,n.d],styles:[".actionButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),i})();var p=o("WIjz"),y=o("3Pt+");function f(i,t){if(1&i&&(r.Mb(0,null,12),r.Jb(2,"input",13),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(2),r.bc("formControlName",i.name)}}function g(i,t){if(1&i&&(r.Mb(0,null,14),r.Ob(2,"label",15),r.Jb(3,"input",16),r.oc(4),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(3),r.bc("formControlName",i.name),r.yb(1),r.qc(" ",i.label," ")}}function N(i,t){if(1&i&&(r.Ob(0,"option",19),r.oc(1),r.Nb()),2&i){const i=t.$implicit;r.bc("value",i.value),r.yb(1),r.pc(i.label)}}function v(i,t){if(1&i&&(r.Mb(0,null,14),r.Ob(2,"label"),r.oc(3),r.Nb(),r.Ob(4,"div",5),r.Ob(5,"select",17),r.mc(6,N,2,2,"option",18),r.Nb(),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(3),r.pc(i.label),r.yb(2),r.bc("formControlName",i.name),r.yb(1),r.ac("ngForOf",i.options)}}function O(i,t){if(1&i&&(r.Mb(0,null,20),r.Ob(2,"label",21),r.oc(3),r.Nb(),r.Ob(4,"div",5),r.Jb(5,"input",22),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(2),r.bc("for",i.name),r.yb(1),r.pc(i.label),r.yb(2),r.bc("type",i.type),r.bc("id",i.name),r.bc("formControlName",i.name)}}function C(i,t){if(1&i&&(r.Ob(0,"div",8),r.Mb(1,9),r.mc(2,f,3,1,"ng-container",10),r.mc(3,g,5,2,"ng-container",10),r.mc(4,v,7,3,"ng-container",10),r.mc(5,O,6,5,"ng-container",11),r.Lb(),r.Nb()),2&i){const i=t.$implicit;r.yb(1),r.ac("ngSwitch",i.type),r.yb(1),r.ac("ngSwitchCase","hidden"),r.yb(1),r.ac("ngSwitchCase","checkbox"),r.yb(1),r.ac("ngSwitchCase","select")}}function k(i,t){if(1&i&&(r.Mb(0,null,12),r.Jb(2,"input",13),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(2),r.bc("formControlName",i.name)}}function D(i,t){if(1&i&&(r.Mb(0,null,14),r.Ob(2,"label",15),r.Jb(3,"input",16),r.oc(4),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(3),r.bc("formControlName",i.name),r.yb(1),r.qc(" ",i.label," ")}}function w(i,t){if(1&i&&(r.Ob(0,"option",19),r.oc(1),r.Nb()),2&i){const i=t.$implicit;r.bc("value",i.value),r.yb(1),r.pc(i.label)}}function L(i,t){if(1&i&&(r.Mb(0,null,14),r.Ob(2,"label"),r.oc(3),r.Nb(),r.Ob(4,"div",5),r.Ob(5,"select",17),r.mc(6,w,2,2,"option",18),r.Nb(),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(3),r.pc(i.label),r.yb(2),r.bc("formControlName",i.name),r.yb(1),r.ac("ngForOf",i.options)}}function F(i,t){if(1&i&&(r.Mb(0,null,20),r.Ob(2,"label",21),r.oc(3),r.Nb(),r.Ob(4,"div",5),r.Jb(5,"input",22),r.Nb(),r.Lb()),2&i){const i=r.Xb().$implicit;r.yb(2),r.bc("for",i.name),r.yb(1),r.pc(i.label),r.yb(2),r.bc("type",i.type),r.bc("id",i.name),r.bc("formControlName",i.name)}}function S(i,t){if(1&i&&(r.Ob(0,"div",8),r.Mb(1,9),r.mc(2,k,3,1,"ng-container",10),r.mc(3,D,5,2,"ng-container",10),r.mc(4,L,7,3,"ng-container",10),r.mc(5,F,6,5,"ng-container",11),r.Lb(),r.Nb()),2&i){const i=t.$implicit;r.yb(1),r.ac("ngSwitch",i.type),r.yb(1),r.ac("ngSwitchCase","hidden"),r.yb(1),r.ac("ngSwitchCase","checkbox"),r.yb(1),r.ac("ngSwitchCase","select")}}const x=[{path:"",component:m,data:{title:"List Categories"}},{path:"add",component:(()=>{class i{constructor(i,t,o,e){this.router=i,this.route=t,this.api=o,this.formBuilder=e,this.form=[new p.a("idDictionary","idDictionary","hidden"),new p.a("name","Name","text")]}ngOnInit(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.formTitle="Add new Category",this.formGroup=this.formBuilder.group({idDictionary:[null],name:[null]})}submitForm(i){console.log(i),this.api.addCategory(this.idNovel,this.idDictionary,i).subscribe(i=>{console.log(i),this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])},i=>{console.log(i)})}goBack(){this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])}}return i.\u0275fac=function(t){return new(t||i)(r.Ib(n.c),r.Ib(n.a),r.Ib(c.a),r.Ib(y.e))},i.\u0275cmp=r.Cb({type:i,selectors:[["app-category-add"]],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,t){1&i&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.oc(2),r.Nb(),r.Ob(3,"form",2),r.Vb("ngSubmit",(function(){return t.submitForm(t.formGroup.value)})),r.mc(4,C,6,4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Jb(7,"input",6),r.Nb(),r.Ob(8,"div",5),r.Ob(9,"input",7),r.Vb("click",(function(){return t.goBack()})),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&i&&(r.yb(2),r.pc(t.formTitle),r.yb(1),r.ac("formGroup",t.formGroup),r.yb(1),r.ac("ngForOf",t.form))},directives:[y.q,y.k,y.g,e.i,e.k,e.l,e.m,y.b,y.j,y.f,y.a,y.o,y.m,y.p],styles:[".form-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px}"]}),i})(),data:{title:"Add Categories"}},{path:":idCategory/edit",component:(()=>{class i{constructor(i,t,o,e){this.router=i,this.route=t,this.api=o,this.formBuilder=e,this.form=[new p.a("id","id","hidden"),new p.a("idDictionary","idDictionary","hidden"),new p.a("name","Name","text")]}ngOnInit(){this.idNovel=this.route.snapshot.params.idNovel,this.idDictionary=this.route.snapshot.params.idDictionary,this.idCategory=this.route.snapshot.params.idCategory,this.formTitle="Update Category",this.formGroup=this.formBuilder.group({id:[null],idDictionary:[null],name:[null]}),this.getCategory()}getCategory(){this.category=this.api.Category(this.idDictionary,this.idCategory),this.category?this.setFormValues():this.api.getCategory(this.idNovel,this.idDictionary,this.idCategory).subscribe(i=>{this.category=this.api.Category(this.idDictionary,this.idCategory),this.setFormValues()})}setFormValues(){this.formGroup.setValue({id:this.category.id,idDictionary:this.category.idDictionary,name:this.category.name})}submitForm(i){console.log(i),this.api.updateCategory(this.idNovel,this.idDictionary,this.idCategory,i).subscribe(i=>{console.log(i),this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])},i=>{console.log(i)})}goBack(){this.router.navigate(["/novel/dictionary",this.idNovel,this.idDictionary])}}return i.\u0275fac=function(t){return new(t||i)(r.Ib(n.c),r.Ib(n.a),r.Ib(c.a),r.Ib(y.e))},i.\u0275cmp=r.Cb({type:i,selectors:[["app-category-edit"]],decls:10,vars:3,consts:[[1,"form-content"],[1,"title"],[3,"formGroup","ngSubmit"],["class","field",4,"ngFor","ngForOf"],[1,"field","is-grouped"],[1,"control"],["type","submit","value","Submit",1,"button","is-link"],["value","Cancel",1,"button","is-danger",3,"click"],[1,"field"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["tempHidden",""],["type","hidden",3,"formControlName"],["tempCheck",""],[1,"checkbox"],["type","checkbox",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["tempText",""],[1,"label",3,"for"],[1,"input",3,"type","id","formControlName"]],template:function(i,t){1&i&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.oc(2),r.Nb(),r.Ob(3,"form",2),r.Vb("ngSubmit",(function(){return t.submitForm(t.formGroup.value)})),r.mc(4,S,6,4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Jb(7,"input",6),r.Nb(),r.Ob(8,"div",5),r.Ob(9,"input",7),r.Vb("click",(function(){return t.goBack()})),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&i&&(r.yb(2),r.pc(t.formTitle),r.yb(1),r.ac("formGroup",t.formGroup),r.yb(1),r.ac("ngForOf",t.form))},directives:[y.q,y.k,y.g,e.i,e.k,e.l,e.m,y.b,y.j,y.f,y.a,y.o,y.m,y.p],styles:[".form-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px}"]}),i})(),data:{title:"Edit Category"}},{path:":idCategory",loadChildren:"../entry#EntryModule",data:{title:"View Category"}},{path:"**",redirectTo:""}];let M=(()=>{class i{}return i.\u0275mod=r.Gb({type:i}),i.\u0275inj=r.Fb({factory:function(t){return new(t||i)},imports:[[n.g.forChild(x)],n.g]}),i})(),I=(()=>{class i{}return i.\u0275mod=r.Gb({type:i}),i.\u0275inj=r.Fb({factory:function(t){return new(t||i)},imports:[[e.b,M,y.i,y.n]]}),i})()}}]);